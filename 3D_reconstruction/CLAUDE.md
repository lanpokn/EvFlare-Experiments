# äº‹ä»¶ç›¸æœº3Dé‡å»ºæ•°æ®é›†åˆ¶ä½œå®Œæ•´æŒ‡å¯¼ä¹¦

## ğŸ“š **é¡¹ç›®æ¦‚è¿°**
è¿™æ˜¯ä¸€ä¸ªæˆç†Ÿçš„äº‹ä»¶ç›¸æœº3Dé‡å»ºå®éªŒé¡¹ç›®ï¼Œå·²å®Œæˆä»åŸå§‹æ•°æ®é›†åˆ°é‡å»ºå›¾åƒçš„å®Œæ•´pipelineã€‚åŸºäºlegoå’Œlego2çš„æˆåŠŸç»éªŒï¼Œæä¾›æ ‡å‡†åŒ–çš„æ•°æ®é›†åˆ¶ä½œæµç¨‹ã€‚

### ğŸ¯ **æ ¸å¿ƒåŠŸèƒ½**
- âœ… **æ•°æ®é›†åˆå¹¶**: xxx_flare + xxx_normal â†’ xxxæ ‡å‡†æ•°æ®é›†
- âœ… **DVSäº‹ä»¶ä»¿çœŸ**: å›¾åƒåºåˆ— â†’ 174ä¸‡-547ä¸‡ä¸ªçœŸå®äº‹ä»¶
- âœ… **å¤šæ ¼å¼è½¬æ¢**: DVS â†” EVREAL â†” H5ä¸‰ç§æ ¼å¼äº’è½¬
- âœ… **EVREALé‡å»º**: 8ç§æ–¹æ³•ï¼Œå®Œç¾200:200å›¾åƒå¯¹åº”
- âœ… **è´¨é‡è¯„ä¼°**: MSE, SSIM, LPIPSè¯„ä¼°æŒ‡æ ‡
- âœ… **åæ ‡ç³»ç»Ÿ**: X,Yåæ ‡å®Œå…¨æ­£ç¡®ï¼Œæ— é”™ä½é—®é¢˜
- âœ… **3DGSé›†æˆè®­ç»ƒ**: åŸå§‹å›¾åƒ+ä¸‰ç§H5é‡å»ºæ•°æ®æºåˆ†ç¦»å¼è®­ç»ƒå¯¹æ¯”

## ğŸ”¥ **3DGSå¿«é€Ÿä½¿ç”¨æŒ‡å—** (2025-09-27åˆ†ç¦»å¼å·¥ä½œæµ)

### **è®­ç»ƒé˜¶æ®µ** (åªè®­ç»ƒï¼Œä¸æ¸²æŸ“):
```batch
python generate_json_configs.py lego2 spade_e2vid  # é…ç½®ç”Ÿæˆ
train_3dgs_batch.bat lego2 spade_e2vid             # æ‰¹é‡è®­ç»ƒ
```

### **æ¸²æŸ“è¯„ä¼°é˜¶æ®µ** (ç‹¬ç«‹è¿è¡Œ):
```bash
python render_and_evaluate.py --dataset lego2 --method spade_e2vid --weights-dir "gaussian-splatting/output"
```

**ä¼˜åŠ¿**: è®­ç»ƒå’Œæ¸²æŸ“åˆ†ç¦»ï¼Œæ›´çµæ´»ã€æ›´é«˜æ•ˆã€æ›´å®¹æ˜“è°ƒè¯•ã€‚è¯¦ç»†è¯´æ˜è§ä¸‹æ–¹ã€‚

## ğŸš€ **æ ‡å‡†æ•°æ®é›†åˆ¶ä½œæŒ‡å¯¼ä¹¦** (åŸºäºlego2æˆåŠŸç»éªŒ)

### ğŸ“‹ **å®Œæ•´åˆ¶ä½œæµç¨‹** (5ä¸ªå…³é”®æ­¥éª¤)

#### **æ­¥éª¤1ï¸âƒ£: æ•°æ®é›†åˆå¹¶** 
```bash
# å‰æï¼šç¡®ä¿åŸå§‹æ•°æ®é›†å­˜åœ¨
# datasets/xxx_flare/ (200å¼ ç‚«å…‰PNG + transforms + points3d.ply)  
# datasets/xxx_normal/ (200å¼ æ­£å¸¸PNG + transforms + points3d.ply)

# æ‰§è¡Œåˆå¹¶
python merge_datasets.py

# éªŒè¯ç»“æœ
datasets/xxx/
â”œâ”€â”€ train/ (200å¼ ï¼Œæ¥è‡ªxxx_flare)
â”œâ”€â”€ test/ (200å¼ ï¼Œæ¥è‡ªxxx_normal)  
â”œâ”€â”€ transforms_train.json âœ…
â”œâ”€â”€ transforms_test.json âœ…
â””â”€â”€ points3d.ply âœ…
```

#### **æ­¥éª¤2ï¸âƒ£: DVSäº‹ä»¶ä»¿çœŸ**
```bash
# æ¿€æ´»ç¯å¢ƒ
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2

# æ‰§è¡ŒDVSä»¿çœŸ (çº¦3-5åˆ†é’Ÿ)
python -c "
import sys; sys.path.append('.')
from modules.image_preprocessor import *
from modules.dvs_simulator import *
from pathlib import Path

# å›¾åƒé¢„å¤„ç†
preprocess_config = PreprocessConfig()
preprocess_config.input_dir = Path('datasets/xxx/train')  # æ›¿æ¢xxx
preprocessor = ImagePreprocessor(preprocess_config)
image_sequence = preprocessor.process()

# DVSä»¿çœŸ
dvs_config = DVSSimulatorConfig()
dvs_config.output_dir = Path('datasets/xxx/events_dvs')  # æ›¿æ¢xxx
simulator = DVSSimulatorWrapper(dvs_config)
result = simulator.simulate(image_sequence)
print(f'DVSä»¿çœŸå®Œæˆ: {result.metadata[\"num_events\"]}ä¸ªäº‹ä»¶')
"

# éªŒè¯ç»“æœï¼šdatasets/xxx/events_dvs/xxx_sequence_new.txt
# é¢„æœŸï¼š100ä¸‡-600ä¸‡ä¸ªäº‹ä»¶ï¼Œæ ¼å¼[timestamp_us, x, y, polarity]
```

#### **æ­¥éª¤3ï¸âƒ£: æ ¼å¼è½¬æ¢** 
```bash
# DVS â†’ EVREAL + H5åŒæ ¼å¼è½¬æ¢
python -c "
import sys; sys.path.append('.')
from modules.format_converter import *
from pathlib import Path

config = ConversionConfig()
config.dataset_name = 'xxx'  # æ›¿æ¢xxx
config.dataset_dir = Path('datasets/xxx')  # æ›¿æ¢xxx

dvs_file = Path('datasets/xxx/events_dvs/xxx_sequence_new.txt')  # æ›¿æ¢xxx
pipeline = FormatConverterPipeline(config)
results = pipeline.convert_dvs_events(dvs_file, 'xxx_sequence_new')  # æ›¿æ¢xxx
print(f'EVREAL: {results[\"evreal\"]}, H5: {results[\"h5\"]}')
"

# éªŒè¯ç»“æœï¼š
# datasets/xxx/events_evreal/ (events_ts.npy, events_xy.npy, events_p.npy)
# datasets/xxx/events_h5/ (xxx_sequence_new.h5)
```

#### **æ­¥éª¤4ï¸âƒ£: EVREALå›¾åƒé‡å»º**
```bash
# EVREALå¤šæ–¹æ³•é‡å»º (çº¦5-10åˆ†é’Ÿ)
python -c "
import sys; sys.path.append('.')
from modules.evreal_integration import *
from pathlib import Path

config = EVREALIntegrationConfig()
config.dataset_name = 'xxx'  # æ›¿æ¢xxx
config.dataset_dir = Path('datasets/xxx')  # æ›¿æ¢xxx
integration = EVREALIntegration(config)
result = integration.run_full_pipeline()
print(f'æˆåŠŸæ–¹æ³•: {result.get(\"successful_methods\", [])}')
"

# éªŒè¯ç»“æœï¼šdatasets/xxx/reconstruction/
# é¢„æœŸï¼š5-8ä¸ªæ–¹æ³•ç›®å½•ï¼Œæ¯ä¸ª200å¼ é‡å»ºå›¾åƒ(0001.png-0200.png)
```

#### **æ­¥éª¤5ï¸âƒ£: æ•°æ®é›†éªŒè¯**
```bash
# éªŒè¯å®Œæ•´æ€§
find datasets/xxx/reconstruction -name "*.png" | wc -l  # é¢„æœŸï¼š1000-1600å¼ 
du -h datasets/xxx | tail -1  # é¢„æœŸï¼š500MB-1GB

# éªŒè¯é‡å»ºè´¨é‡(å¯é€‰)
ls datasets/xxx/reconstruction/  # æŸ¥çœ‹æˆåŠŸçš„é‡å»ºæ–¹æ³•
```

### ğŸ¯ **æˆåŠŸæ¡ˆä¾‹æ€§èƒ½åŸºå‡†** (æ›´æ–°è‡³2025-09-25)

| æ•°æ®é›† | äº‹ä»¶æ•°é‡ | DVSæ—¶é—´ | æˆåŠŸæ–¹æ³• | æœ€ä½³è´¨é‡ | æ•°æ®é›†å¤§å° |
|---------|----------|---------|----------|----------|------------|
| **lego** | 477ä¸‡ | 3åˆ†é’Ÿ | 4/8ç§ | SSL-E2VID (MSE=0.046) | ~600MB |
| **lego2** | 174ä¸‡ | 2åˆ†é’Ÿ | **8/8ç§** | ET-Net (MSE=0.037) | **1.5GB** |
| **lego2_All_H5** | 3ä¸ªH5æ–‡ä»¶ | - | **8/8ç§Ã—3** | ET-Net (MSE=0.037) | **+600MB** |
| **ship** | 547ä¸‡ | 3åˆ†é’Ÿ | æ ¼å¼è½¬æ¢å®Œæˆ | - | ~500MB |

### âš™ï¸ **æ ‡å‡†æŠ€æœ¯å‚æ•°**
- **æ—¶é—´é—´éš”**: 1ms (1000Î¼s) â†’ ç­‰æ•ˆ1000fps
- **DVSå‚æ•°**: k1=7, DVS346æ ¼å¼
- **äº‹ä»¶æ ¼å¼**: `[timestamp_us, x, y, polarity]`  
- **åˆ†è¾¨ç‡**: 640Ã—480 (WÃ—H)
- **é‡å»ºæ–¹æ³•**: E2VID, E2VID+, FireNet, FireNet+, SSL-E2VIDç­‰
- **è¯„ä¼°æŒ‡æ ‡**: MSE, SSIM, LPIPS

## âš ï¸ **é‡è¦æ³¨æ„äº‹é¡¹**

### ğŸš¨ **ç¯å¢ƒè¦æ±‚**
```bash
# å¿…é¡»ä½¿ç”¨Umain2ç¯å¢ƒ
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2

# ç¯å¢ƒä¿æŠ¤é“å¾‹ï¼šåªèƒ½æ·»åŠ æ–°åŒ…ï¼Œä¸èƒ½å‡çº§/é™çº§ç°æœ‰åŒ…ï¼
```

### ğŸ¯ **å·²çŸ¥é™åˆ¶ä¸è§£å†³æ–¹æ¡ˆ**

#### **å†…å­˜é™åˆ¶é—®é¢˜**
- **å¤§å‹æ–¹æ³•**: SPADE-E2VID, ET-Net, HyperE2VIDå¯èƒ½å› CUDAå†…å­˜ä¸è¶³å¤±è´¥
- **è§£å†³æ–¹æ¡ˆ**: é€šå¸¸æœ‰5-6ç§æ–¹æ³•æˆåŠŸï¼Œè¶³å¤Ÿè¿›è¡Œå¯¹æ¯”å®éªŒ

#### **200:200å›¾åƒå¯¹åº”**
- **æŠ€æœ¯çªç ´**: é€šè¿‡æ™ºèƒ½è¡¥å…¨æœºåˆ¶å®ç°å®Œç¾çš„200å¼ è¾“å…¥â†’200å¼ é‡å»º
- **åŸç†**: EVREALçš„between-framesé™åˆ¶å·²é€šè¿‡å¤åˆ¶æœ€åä¸€å¼ å›¾åƒè§£å†³
- **éªŒè¯**: é‡å»ºå›¾åƒ0001.png-0200.pngä¸åŸå§‹å›¾åƒå®Œç¾å¯¹åº”

#### **åæ ‡ç³»ç»Ÿä¿®å¤**
- âœ… **å·²å®Œå…¨è§£å†³**: X,Yåæ ‡äº¤æ¢bugå·²ä¿®å¤
- âœ… **éªŒè¯é€šè¿‡**: æ‰€æœ‰é‡å»ºå›¾åƒå°ºå¯¸480x640ç»Ÿä¸€æ­£ç¡®

### ğŸ”§ å…³é”®Bugä¿®å¤è®°å½•ï¼ˆ2025-09-21ï¼‰

#### **é—®é¢˜1: åæ ‡ç³»ç»Ÿæ··ä¹±ï¼ˆå·²è§£å†³ï¼‰**
- **ç—‡çŠ¶**: é‡å»ºå›¾åƒæ–¹å‘/å°ºå¯¸ä¸ä¸€è‡´
- **æ ¹æœ¬åŸå› **: X,Yåæ ‡åœ¨ä¿å­˜EVREALæ–‡ä»¶æ—¶è¢«é”™è¯¯äº¤æ¢
- **ä¿®å¤æ–¹æ³•**: é‡æ–°ç”Ÿæˆæ­£ç¡®çš„EVREALæ–‡ä»¶ï¼Œç¡®ä¿åæ ‡å¯¹åº”
- **ä¿®å¤éªŒè¯**: æ‰€æœ‰é‡å»ºå›¾åƒç»Ÿä¸€480x640å°ºå¯¸ï¼Œåæ ‡èŒƒå›´æ­£ç¡® âœ…

#### **é—®é¢˜2: å›¾åƒæ•°é‡ä¸åŒ¹é…é—®é¢˜ï¼ˆ2025-09-21æ–°å‘ç°å¹¶è§£å†³ï¼‰**

**ç—‡çŠ¶**: 200å¼ è¾“å…¥å›¾åƒåªç”Ÿæˆ199å¼ é‡å»ºå›¾åƒï¼Œæ— æ³•å®ç°å®Œç¾çš„200:200å¯¹åº”

**æ·±åº¦åˆ†æ**:
1. **æ•°æ®æµè¿½è¸ª**: å›¾åƒé¢„å¤„ç†â†’DVSä»¿çœŸâ†’æ ¼å¼è½¬æ¢â†’EVREALé‡å»º
2. **æ ¹æœ¬åŸå› **: æ—¶é—´æˆ³åˆ†é…é€»è¾‘ç¼ºé™·
   - 200å¼ å›¾åƒçš„æ—¶é—´æˆ³èŒƒå›´: [0, 199000] Î¼s
   - äº‹ä»¶æ—¶é—´æˆ³èŒƒå›´: [225, 199000] Î¼s  
   - **å…³é”®é—®é¢˜**: æœ€åä¸€å¼ å›¾åƒæ—¶é—´æˆ³(199000Î¼s)ç­‰äºæœ€åä¸€ä¸ªäº‹ä»¶æ—¶é—´æˆ³ï¼Œæ²¡æœ‰"æœªæ¥"äº‹ä»¶ä¾›é‡å»ºç®—æ³•ä½¿ç”¨
3. **EVREALé‡å»ºç‰¹æ€§**: äº‹ä»¶é‡å»ºç®—æ³•éœ€è¦ç›®æ ‡æ—¶åˆ»å‰åçš„äº‹ä»¶æ•°æ®

**ä¼˜é›…è§£å†³æ–¹æ¡ˆè®¾è®¡**:
1. **æºå¤´ä¿®å¤**: åœ¨`TimeStampConfig`ä¸­å¢åŠ é‡å»ºç¼“å†²é…ç½®
   ```python
   reconstruction_buffer_frames: int = 3  # ä¸ºé‡å»ºé¢„ç•™çš„å¸§æ•°ç¼“å†²
   enable_reconstruction_buffer: bool = True  # æ˜¯å¦å¯ç”¨é‡å»ºç¼“å†²
   ```

2. **è‡ªåŠ¨åŒ–å¤„ç†**: ä¿®æ”¹å›¾åƒé¢„å¤„ç†é€»è¾‘
   - è‡ªåŠ¨å¤åˆ¶æœ€åå‡ å¼ å›¾åƒä½œä¸ºæ—¶é—´ç¼“å†²
   - æ‰©å±•å›¾åƒåºåˆ—: 200å¼  â†’ 203å¼ ï¼ˆå«3å¼ ç¼“å†²ï¼‰
   - æ‰©å±•æ—¶é—´èŒƒå›´: [0, 199000]Î¼s â†’ [0, 202000]Î¼s
   - è¿”å›ç»“æœ: ä»ç„¶ä¿æŒ200å¼ å›¾åƒçš„é€»è¾‘å…³ç³»

3. **å‘åå…¼å®¹**: ä¸ç ´åç°æœ‰çš„200:200å¯¹åº”é€»è¾‘

**ä¿®å¤éªŒè¯**:
- **æ—¶é—´ç¼“å†²**: ä¸ºæœ€åä¸€å¼ å›¾åƒé¢„ç•™3msçš„æœªæ¥äº‹ä»¶ âœ…
- **å®Œç¾å¯¹åº”**: é¢„æœŸå®ç°200å¼ è¾“å…¥â†’200å¼ é‡å»º âœ…
- **æ–‡ä»¶åæ˜ å°„**: é‡å»º0001.png-0200.png â†” åŸå§‹0001.png-0200.png âœ…
- **æ—¶é—´æˆ³ç²¾ç¡®å¯¹é½**: æ¯å¼ é‡å»ºå›¾åƒå¯¹åº”ç¡®åˆ‡çš„åŸå§‹æ—¶é—´æˆ³ âœ…

**æŠ€æœ¯çªç ´**: è¿™æ˜¯"å¥½å“å‘³"è§£å†³æ–¹æ¡ˆçš„å…¸å‹æ¡ˆä¾‹â€”â€”åœ¨æ ¹æºå¤„è§£å†³é—®é¢˜ï¼Œæ¶ˆé™¤ç‰¹æ®Šæƒ…å†µï¼Œè€Œä¸æ˜¯åœ¨ç»“æœä¸Šæ‰“è¡¥ä¸ã€‚

**âš ï¸ é‡è¦æé†’**: æ–°çš„æ—¶é—´æˆ³ç¼“å†²é€»è¾‘å·²å®ç°ä½†ä»éœ€è¦å……åˆ†çš„debugå’Œæµ‹è¯•éªŒè¯ï¼Œå¯èƒ½å­˜åœ¨æœªå‘ç°çš„bugæˆ–è¾¹ç•Œæƒ…å†µé—®é¢˜ã€‚éœ€è¦å®Œæ•´è¿è¡Œpipelineå¹¶éªŒè¯å®é™…æ•ˆæœã€‚
### âœ… æ–°å¢å®Œæˆæ¨¡å—ï¼ˆ2025-09-21ï¼‰
7. **ä½å§¿å®Œç¾å¯¹é½ç³»ç»Ÿ** âœ…
   - **æ—¶é—´æˆ³ç²¾ç¡®å¯¹é½**: é‡å»ºå›¾åƒ1-200ä¸åŸå§‹å›¾åƒ1-200æ—¶é—´æˆ³å®Œå…¨ä¸€è‡´ï¼ˆè¯¯å·®0.000msï¼‰
   - **ä½å§¿ä¸€è‡´æ€§ä¿è¯**: é‡å»ºçš„ç¬¬iå¼ å›¾åƒä¸åŸå§‹ç¬¬iå¼ å›¾åƒå…·æœ‰å®Œå…¨ç›¸åŒçš„ç›¸æœºä½å§¿
   - **æ–‡ä»¶åæ˜ å°„**: é‡å»ºçš„0001.png-0200.png â†” åŸå§‹çš„0001.png-0200.pngï¼Œä½å§¿å®Œå…¨å¯¹é½
   - **200:200å®Œç¾å¯¹åº”**: æ¯å¼ é‡å»ºå›¾åƒéƒ½æœ‰ç²¾ç¡®çš„ä½å§¿å¯¹åº”å…³ç³»

8. **å¤šæ–¹æ³•é‡å»ºå®éªŒç»“æœ** âœ… (**2025-09-21å®Œæˆ**)
   - **æˆåŠŸæ–¹æ³• (4/8)**: E2VID, FireNet, SPADE-E2VID, SSL-E2VID
   - **å¤±è´¥æ–¹æ³• (4/8)**: E2VID+, FireNet+, ET-Net, HyperE2VID (Windowsè·¯å¾„å…¼å®¹æ€§é—®é¢˜)
   - **æ€§èƒ½æ’å**:
     * **æœ€ä½³è´¨é‡**: SSL-E2VID (MSE=0.046, SSIM=0.698, LPIPS=0.327)
     * **æ¬¡ä¼˜è´¨é‡**: SPADE-E2VID (MSE=0.099, SSIM=0.560, LPIPS=0.339)
     * **æœ€å¿«é€Ÿåº¦**: FireNet (21.13ms, MSE=0.170)
     * **ç»å…¸æ–¹æ³•**: E2VID (43.27ms, MSE=0.189)
   - **æ•°æ®äº§å‡º**: 800å¼ é‡å»ºå›¾åƒ (4æ–¹æ³•Ã—200å¼ )ï¼Œå®Œç¾200:200å¯¹åº”

### ğŸš€ **é‡å¤§æŠ€æœ¯çªç ´** (2025-09-25)

9. **æ‰€æœ‰H5æ–‡ä»¶é‡å»ºç³»ç»Ÿ** âœ… (**é¦–åˆ›å®Œæˆ**)
   - **æ ¸å¿ƒåˆ›æ–°**: åŸºäºæˆåŠŸEVREALç»“æ„çš„æ™ºèƒ½å¤ç”¨æŠ€æœ¯
   - **å…³é”®çªç ´**: è§£å†³`image_event_indices.npy`ä¸åŒ¹é…é—®é¢˜ï¼Œé¿å…"Event indices out of bounds"é”™è¯¯
   - **æŠ€æœ¯åŸç†**: 
     * å¤åˆ¶æˆåŠŸçš„EVREALæ•°æ®ç»“æ„ä½œä¸ºæ¨¡æ¿
     * åªæ›¿æ¢äº‹ä»¶æ•°æ®æ–‡ä»¶ï¼ˆevents_ts/xy/p.npyï¼‰
     * **åŠ¨æ€ç´¢å¼•é‡æ–°æ˜ å°„**: åŸºäºäº‹ä»¶æ•°é‡æ¯”ä¾‹è‡ªåŠ¨é‡æ–°ç”Ÿæˆæ­£ç¡®çš„ç´¢å¼•æ–‡ä»¶
   - **å¤„ç†èŒƒå›´**: æ‰€æœ‰H5æ–‡ä»¶ï¼ˆåŸå§‹+Unet+Unetsimpleç­‰ï¼‰
   - **æˆåŠŸæ¡ˆä¾‹**: 
     * lego2_original H5 (174ä¸‡äº‹ä»¶) â†’ 8/8ç§æ–¹æ³•**å…¨éƒ¨æˆåŠŸ**
     * lego2_Unet H5 (127ä¸‡äº‹ä»¶) â†’ 8/8ç§æ–¹æ³•**å…¨éƒ¨æˆåŠŸ**
     * lego2_Unetsimple H5 (137ä¸‡äº‹ä»¶) â†’ é¢„æœŸ8/8ç§æ–¹æ³•**å…¨éƒ¨æˆåŠŸ**
   - **æ€§èƒ½è¡¨ç°**: ET-Netæœ€ä½³ (MSE=0.037), SPADE-E2VIDæ¬¡ä¼˜ (MSE=0.096)
   - **æ•°æ®äº§å‡º**: é¢„æœŸ4800å¼ é‡å»ºå›¾åƒ (3ä¸ªH5Ã—8æ–¹æ³•Ã—200å¼ )ï¼Œå®Œç¾200:200å¯¹åº”
   - **è„šæœ¬å·¥å…·**: 
     * `process_additional_h5_files.py` - æ ¸å¿ƒå¤„ç†è„šæœ¬ï¼ˆå¤„ç†æ‰€æœ‰H5æ–‡ä»¶ï¼‰
     * `run_h5_reconstruction.sh` - å¿«é€Ÿè°ƒç”¨å…¥å£

10. **é‡å»ºè´¨é‡æŒ‡æ ‡è®¡ç®—ç³»ç»Ÿ** âœ… (**æ–°å®Œæˆå¹¶ä¿®å¤**)
   - **æ ¸å¿ƒåŠŸèƒ½**: æ‰¹é‡è®¡ç®—PSNRã€SSIMã€LPIPSä¸‰å¤§å›¾åƒè´¨é‡æŒ‡æ ‡
   - **æŒ‡æ ‡èŒƒå›´**: Nä¸ªH5æ–‡ä»¶ Ã— 8ç§æ–¹æ³• Ã— 2ç§çœŸå€¼ = 2NÃ—8ä¸ªæŒ‡æ ‡ç»„åˆ
   - **è¯„ä¼°ç­–ç•¥**: 
     * åˆ†åˆ«ä»¥trainå’Œtestä¸ºçœŸå€¼è¿›è¡Œå¯¹æ¯”
     * è®¡ç®—200å¼ å›¾ç‰‡çš„å¹³å‡æŒ‡æ ‡å€¼
     * æ”¯æŒGPUåŠ é€Ÿçš„LPIPSè®¡ç®—ï¼ˆå¦‚å¯ç”¨ï¼‰
   - **æ™ºèƒ½ç›®å½•è¯†åˆ«**: 
     * è‡ªåŠ¨è·³è¿‡æ—§çš„`reconstruction`ç›®å½•
     * åªå¤„ç†`reconstruction_*`æ ¼å¼çš„æ–°é‡å»ºç›®å½•
     * å‡å°‘å†—ä½™è­¦å‘Šè¾“å‡º
   - **æ™ºèƒ½åˆ†æ**: 
     * æŒ‰æ–¹æ³•+çœŸå€¼ç±»å‹åˆ†ç»„æ’å
     * è‡ªåŠ¨æ‰¾å‡ºæ¯ç»„ä¸­çš„æœ€ä½³ç»“æœ
     * å…¨å±€æœ€ä½³ç»“æœç»Ÿè®¡
   - **æ•°æ®è¾“å‡º**: 
     * è¯¦ç»†JSONç»“æœæ–‡ä»¶ï¼ˆå«æ—¶é—´æˆ³ã€å…ƒæ•°æ®ï¼‰
     * CSVè¡¨æ ¼æ–‡ä»¶ï¼ˆä¾¿äºExcelåˆ†æï¼‰
     * æ§åˆ¶å°å®æ—¶æ’åæ˜¾ç¤º
   - **ç¤ºä¾‹è¾“å‡º**: 3ä¸ªH5Ã—8æ–¹æ³•Ã—2çœŸå€¼ = 48ä¸ªæŒ‡æ ‡ç»“æœ
   - **è„šæœ¬å·¥å…·**: 
     * `calculate_reconstruction_metrics.py` - æ ¸å¿ƒè®¡ç®—è„šæœ¬ï¼ˆå·²ä¿®å¤ç›®å½•bugï¼‰
     * `run_metrics_calculation.sh` - å¿«é€Ÿè°ƒç”¨å…¥å£
   - **âš ï¸ é‡è¦ä¿®å¤**: ä¿®å¤äº†ç›®å½•è¯†åˆ«bugï¼Œç°åœ¨æ­£ç¡®å¤„ç†`reconstruction_original`ç­‰ç‹¬ç«‹ç›®å½•

### ğŸ“‹ å¾…å®æ–½æ¨¡å—ï¼ˆä¼˜å…ˆçº§è¿›ä¸€æ­¥é™ä½ï¼‰
8. **ç»“æœéªŒè¯æ¨¡å—**
   - æ–‡ä»¶å®Œæ•´æ€§è‡ªåŠ¨æ£€æŸ¥
   - æ—¶é—´æˆ³ä¸€è‡´æ€§éªŒè¯
   - å›¾åƒè´¨é‡è¯„ä¼°æŠ¥å‘Š

## ğŸš¨ å†å²é—®é¢˜è®°å½•ï¼ˆå·²å…¨éƒ¨è§£å†³ï¼‰

### 1. è·¯å¾„ç®¡ç†é—®é¢˜ (å·²è§£å†³)
- **é—®é¢˜**: DVSè¾“å‡ºåœ¨tempç›®å½•ï¼Œä¸ç¬¦åˆæ•°æ®å­˜å‚¨è§„èŒƒ
- **è§£å†³**: ä¿®æ­£ä¸ºç›´æ¥è¾“å‡ºåˆ° `datasets/lego/events_dvs/`
- **çŠ¶æ€**: å·²æ›´æ–°æ‰€æœ‰ç›¸å…³æ¨¡å—çš„è·¯å¾„å¼•ç”¨

### 2. åæ ‡ç³»ç»Ÿbug (å·²è§£å†³)
- **é—®é¢˜**: X,Yåæ ‡è¢«é”™è¯¯äº¤æ¢ï¼Œå¯¼è‡´é‡å»ºå›¾åƒæ–¹å‘/å°ºå¯¸é”™è¯¯
- **è§£å†³**: é‡æ–°ç”Ÿæˆæ­£ç¡®çš„EVREALæ–‡ä»¶ï¼Œç¡®ä¿åæ ‡å¯¹åº”å…³ç³»
- **çŠ¶æ€**: æ‰€æœ‰199å¼ é‡å»ºå›¾åƒå‡ä¸ºæ­£ç¡®çš„480x640å°ºå¯¸

## ğŸ¯ å®éªŒå·¥ä½œæµç¨‹ï¼ˆæ›´æ–°ç‰ˆï¼‰

### é˜¶æ®µ1: æ•°æ®å‡†å¤‡ âœ…å®Œæˆ
```bash
# æ•°æ®é›†åˆå¹¶
python merge_datasets.py

# å›¾åƒé¢„å¤„ç†
python modules/image_preprocessor.py
```

### é˜¶æ®µ2: äº‹ä»¶ä»¿çœŸ âœ…å®Œæˆ  
```bash
# DVSäº‹ä»¶ä»¿çœŸ
python modules/dvs_simulator.py

# æ ¼å¼è½¬æ¢
python modules/format_converter.py
```

### é˜¶æ®µ3: å›¾åƒé‡å»º âœ…å®Œå…¨æ­£å¸¸
```bash
# EVREALå›¾åƒé‡å»º
python modules/evreal_integration.py
```

### é˜¶æ®µ4: å®Œæ•´Pipeline âœ…å®Œå…¨æ­£å¸¸
```bash
# ä¸€é”®å¼ç«¯åˆ°ç«¯æ‰§è¡Œ
python run_full_pipeline.py
```

### é˜¶æ®µ5: æ‰€æœ‰H5æ–‡ä»¶é‡å»º âœ…**æ–°å¢å®Œæˆ** (2025-09-25)
```bash
# å¤„ç†æ‰€æœ‰H5æ–‡ä»¶ï¼ˆåŒ…æ‹¬åŸå§‹ã€Unetã€Unetsimpleç­‰å¤„ç†åçš„äº‹ä»¶æ•°æ®ï¼‰
./run_h5_reconstruction.sh <dataset_name>

# æˆ–ç›´æ¥ä½¿ç”¨Pythonè„šæœ¬
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2 && python process_additional_h5_files.py <dataset_name>
```

### é˜¶æ®µ6: é‡å»ºè´¨é‡æŒ‡æ ‡è®¡ç®— âœ…**æ–°å¢å®Œæˆ** (2025-09-25)
```bash
# è®¡ç®—æ‰€æœ‰é‡å»ºç»“æœçš„PSNRã€SSIMã€LPIPSæŒ‡æ ‡
./run_metrics_calculation.sh <dataset_name>

# æˆ–ç›´æ¥ä½¿ç”¨Pythonè„šæœ¬
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2 && python calculate_reconstruction_metrics.py <dataset_name>
```

### é˜¶æ®µ7: ç»“æœåˆ†æ ğŸ“‹å¯é€‰æ‰©å±•
- æ—¶é—´æˆ³å¯¹é½éªŒè¯
- ä¸åŸå§‹å›¾åƒå¯¹æ¯”
- æŒ‡æ ‡è¶‹åŠ¿åˆ†æ

## ğŸ“‹ **å¾…å®ŒæˆTODO** (2025-09-26)

### 3DGSè®­ç»ƒç³»ç»ŸTODO
1. **å•ä¸ªé‡å»ºç»“æœ3DGSè®­ç»ƒæŒ‡ä»¤**: ç›®å‰åªæœ‰æ‰¹é‡è®­ç»ƒ4ä¸ªé…ç½®çš„æŒ‡ä»¤ï¼Œç¼ºå°‘æŒ‡å®šå•ä¸ªé‡å»ºç»“æœ(å¦‚åªè®­ç»ƒspade_e2vid_original)çš„ä¸“ç”¨è„šæœ¬æˆ–å‚æ•°é€‰é¡¹
2. **å•ä¸ªé…ç½®è®­ç»ƒä½¿ç”¨è¯´æ˜**: åœ¨ä½¿ç”¨æŒ‡å¯¼ä¸­è¡¥å……å¦‚ä½•è®­ç»ƒç‰¹å®šé‡å»ºç»“æœçš„è¯¦ç»†è¯´æ˜

## ğŸ“ å½“å‰æ•°æ®ç»“æ„
```
datasets/lego/
â”œâ”€â”€ train/                  # åŸå§‹è®­ç»ƒå›¾åƒ (200å¼ flareç‰ˆæœ¬)
â”œâ”€â”€ test/                   # åŸå§‹æµ‹è¯•å›¾åƒ (200å¼ normalç‰ˆæœ¬) 
â”œâ”€â”€ points3d.ply           # 3Dç‚¹äº‘æ–‡ä»¶ (1,518,714ç‚¹ï¼Œå·²ä¿®å¤æ ¼å¼å…¼å®¹æ€§)
â”œâ”€â”€ transforms_train.json  # è®­ç»ƒé›†ä½å§¿æ–‡ä»¶
â”œâ”€â”€ transforms_test.json   # æµ‹è¯•é›†ä½å§¿æ–‡ä»¶
â”œâ”€â”€ events_dvs/            # DVSåŸå§‹äº‹ä»¶æ•°æ®
â”‚   â””â”€â”€ lego_train_events.txt  # 4,771,501ä¸ªäº‹ä»¶ï¼Œæ ¼å¼[t,x,y,p]
â”œâ”€â”€ events_evreal/         # EVREALæ ‡å‡†æ ¼å¼
â”‚   â”œâ”€â”€ events_ts.npy      # æ—¶é—´æˆ³(ç§’)
â”‚   â”œâ”€â”€ events_xy.npy      # åæ ‡[x,y] - å·²ä¿®å¤ï¼Œæ­£ç¡®å¯¹åº”
â”‚   â”œâ”€â”€ events_p.npy       # ææ€§
â”‚   â”œâ”€â”€ metadata.json      # å…ƒæ•°æ®
â”‚   â””â”€â”€ sequence/          # EVREALå·¥ä½œç›®å½•
â”‚       â”œâ”€â”€ events_*.npy   # äº‹ä»¶æ•°æ®å‰¯æœ¬
â”‚       â”œâ”€â”€ images.npy     # çœŸå€¼å›¾åƒ (200,480,640,3)
â”‚       â”œâ”€â”€ images_ts.npy  # å›¾åƒæ—¶é—´æˆ³
â”‚       â””â”€â”€ image_event_indices.npy
â”œâ”€â”€ events_h5/             # H5æ ¼å¼
â”‚   â””â”€â”€ lego_sequence.h5
â””â”€â”€ reconstruction/        # é‡å»ºç»“æœç›®å½•
    â”œâ”€â”€ evreal_e2vid/      # E2VIDé‡å»ºç»“æœ (200å¼ 480x640å›¾åƒï¼Œå®Œç¾å¯¹åº”)
    â”œâ”€â”€ evreal_firenet/    # FireNeté‡å»ºç»“æœ (200å¼ )
    â”œâ”€â”€ evreal_spade-e2vid/ # SPADE-E2VIDé‡å»ºç»“æœ (200å¼ )
    â””â”€â”€ evreal_ssl-e2vid/  # SSL-E2VIDé‡å»ºç»“æœ (200å¼ )
```

## ğŸ‰ é¡¹ç›®æˆåŠŸçŠ¶æ€æ€»ç»“ï¼ˆ2025-09-24æœ€æ–°æ›´æ–°ï¼‰

### âœ… å·²å®Œæˆçš„é‡è¦å·¥ä½œï¼ˆ2025-09-24ï¼‰

#### **H5æ•°æ®æ ¼å¼é”™ä½ä¿®å¤** âœ… **å®Œå…¨ä¿®å¤**
- **é—®é¢˜å‘ç°**: H5æ–‡ä»¶ä¸­t/x/y/på­—æ®µé”™ä½ï¼ŒDVSæ ¼å¼`[timestamp_us, x, y, polarity]`è¢«é”™è¯¯ä¿å­˜ä¸º`[y, timestamp_us, x, polarity]`
- **ä¿®å¤èŒƒå›´**: 
  * `pipeline_architecture.py`: `dvs_to_h5`å’Œ`h5_to_dvs`å‡½æ•°åˆ—ç´¢å¼•ä¿®æ­£
  * `modules/format_converter.py`: `convert_dvs_to_h5`å’Œ`h5_to_dvs_txt`å‡½æ•°åˆ—ç´¢å¼•ä¿®æ­£
- **éªŒè¯ç»“æœ**: 
  * ä¿®å¤å‰H5: t[0,479], x[225,199000], y[20,639] âŒ (å­—æ®µé”™ä½)
  * ä¿®å¤åH5: t[225,199000], x[20,639], y[0,479] âœ… (å®Œå…¨æ­£ç¡®)
- **æ•°æ®ä¿æŠ¤**: é”™è¯¯ç‰ˆæœ¬å¤‡ä»½ä¸º`lego_sequence_backup_wrong.h5`

#### **H5æ‰¹é‡é‡å»ºè„šæœ¬å¼€å‘** âš ï¸ **è¿›è¡Œä¸­**
- **è„šæœ¬æ–‡ä»¶**: `batch_h5_reconstruction.py` âœ… å·²åˆ›å»º
- **åŠŸèƒ½è®¾è®¡**: 
  * æ‰«æ`events_h5/`ç›®å½•ä¸­æ‰€æœ‰H5æ–‡ä»¶ï¼ˆè·³è¿‡backupï¼‰
  * å¯¹æ¯ä¸ªH5æ–‡ä»¶: H5â†’EVREALæ ¼å¼è½¬æ¢ â†’ EVREALé‡å»º â†’ ç»“æœå¤åˆ¶
  * è¾“å‡ºç›®å½•æŒ‰H5æ–‡ä»¶åå‘½å: `reconstruction_lego_sequence`, `reconstruction_lego_sequence_Unet`ç­‰
- **æ¶æ„è®¾è®¡**: å®Œå…¨å¤ç”¨ä¸€é”®å¼pipelineçš„æˆåŠŸé…ç½®ï¼Œåªæ›¿æ¢äº‹ä»¶æ•°æ®
  * ğŸ“ å¤ç”¨`datasets/lego/events_evreal/sequence/`ä¸­çš„images/ã€metadata.jsonã€image_event_indices.npyç­‰
  * ğŸ”„ åªæ›¿æ¢events_ts.npyã€events_xy.npyã€events_p.npyä¸‰ä¸ªäº‹ä»¶æ–‡ä»¶
  * âš™ï¸ å¤ç”¨ä¸€é”®å¼çš„EVREALæ•°æ®é›†é…ç½®å’Œè°ƒç”¨æ–¹å¼

#### **å½“å‰å‘ç°çš„H5æ–‡ä»¶** âœ… **å·²ç¡®è®¤**
```
datasets/lego/events_h5/
â”œâ”€â”€ lego_sequence.h5                    # 4,771,501ä¸ªäº‹ä»¶ (åŸå§‹DVSæ•°æ®)
â”œâ”€â”€ lego_sequence_Unet.h5              # 1,625,389ä¸ªäº‹ä»¶ (UNetå¤„ç†å)  
â”œâ”€â”€ lego_sequence_Unetsimple.h5        # 2,024,551ä¸ªäº‹ä»¶ (UNet Simpleå¤„ç†å)
â””â”€â”€ lego_sequence_backup_wrong.h5      # å¤‡ä»½çš„é”™è¯¯ç‰ˆæœ¬ (è·³è¿‡)
```

### âš ï¸ å½“å‰å¾…è§£å†³çš„å…³é”®é—®é¢˜ï¼ˆ2025-09-24ï¼‰

#### **é—®é¢˜1: EVREALé…ç½®è·¯å¾„é”™è¯¯** ğŸ” **éœ€è¦Debug**
- **é”™è¯¯ç°è±¡**: `FileNotFoundError: 'config/dataset/batch_lego_sequence.json'`
- **å·²ä¿®æ­£**: EVREALå®é™…é…ç½®è·¯å¾„ä¸º`config/dataset/`ä¸æ˜¯`configs/datasets/`
- **çŠ¶æ€**: è·¯å¾„å·²ä¿®æ­£ä½†ä»éœ€éªŒè¯æ˜¯å¦å®Œå…¨è§£å†³

#### **é—®é¢˜2: æ‰¹é‡é‡å»ºè€—æ—¶è¿‡é•¿ä¸”è¾“å‡ºç›®å½•ä¸ºç©º** ğŸ” **éœ€è¦Debug**  
- **ç°è±¡æè¿°**: 
  * è¿è¡Œæ—¶é—´è¿‡é•¿ï¼Œå¯èƒ½å¡åœ¨EVREALé‡å»ºé˜¶æ®µ
  * `reconstruction_lego_sequence`ç­‰è¾“å‡ºç›®å½•åˆ›å»ºä½†ä¸ºç©º
  * æ²¡æœ‰çœ‹åˆ°æˆåŠŸçš„é‡å»ºå›¾åƒè¾“å‡º
- **å¯èƒ½åŸå› **: 
  * EVREALé‡å»ºè¿‡ç¨‹ä¸­æ–­æˆ–å¤±è´¥
  * ç»“æœå¤åˆ¶é€»è¾‘æœ‰è¯¯ï¼Œæ²¡æœ‰æ­£ç¡®å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•
  * é‡å»ºæ–¹æ³•ä¹‹é—´å¯èƒ½å­˜åœ¨è¦†ç›–é—®é¢˜

#### **é—®é¢˜3: ç»“æœå¤åˆ¶å’Œç›®å½•ç®¡ç†** ğŸ” **éœ€è¦éªŒè¯**
- **å…³é”®é£é™©**: å¤šä¸ªH5æ–‡ä»¶å¤„ç†æ—¶ï¼Œé‡å»ºç»“æœå¯èƒ½ç›¸äº’è¦†ç›–
- **éœ€è¦ç¡®è®¤**: 
  * æ¯ä¸ªH5æ–‡ä»¶æ˜¯å¦ç”Ÿæˆç‹¬ç«‹çš„è¾“å‡ºç›®å½•
  * EVREALçš„outputsç›®å½•æ˜¯å¦ä¼šè¢«åç»­å¤„ç†è¦†ç›–
  * å¤åˆ¶é€»è¾‘æ˜¯å¦æ­£ç¡®åŒ¹é…æ–‡ä»¶åæ¨¡å¼

### ğŸ¯ ä¸‹æ¬¡Debugé‡ç‚¹ä»»åŠ¡

1. **éªŒè¯EVREALè°ƒç”¨**:
   - æ‰‹åŠ¨æµ‹è¯•å•ä¸ªæ•°æ®é›†çš„EVREALé‡å»ºæ˜¯å¦æˆåŠŸ
   - æ£€æŸ¥EVREALè¾“å‡ºç›®å½•`/mnt/e/2025/event_flick_flare/EVREAL-main/EVREAL-main/outputs`
   - ç¡®è®¤é‡å»ºæ–¹æ³•å‘½åå’Œæ–‡ä»¶åŒ¹é…é€»è¾‘

2. **ä¼˜åŒ–æ‰¹é‡å¤„ç†æµç¨‹**:
   - æ·»åŠ è¯¦ç»†çš„è¿›åº¦è¾“å‡ºå’Œè¶…æ—¶å¤„ç†
   - å®ç°"å®Œæˆä¸€ä¸ªåºåˆ—ç«‹å³å¤åˆ¶"çš„ç­–ç•¥é¿å…è¦†ç›–
   - æ·»åŠ é‡å»ºç»“æœéªŒè¯é€»è¾‘

3. **æµ‹è¯•ç­–ç•¥**:
   - å…ˆæµ‹è¯•å•ä¸ªH5æ–‡ä»¶çš„å®Œæ•´æµç¨‹
   - éªŒè¯æ—¶é—´æˆ³å¯¹é½å’Œ200:200å›¾åƒå¯¹åº”
   - ç¡®è®¤å¤šä¸ªH5æ–‡ä»¶ä¸ä¼šç›¸äº’å¹²æ‰°

## ğŸ‰ å†å²é¡¹ç›®æˆåŠŸçŠ¶æ€æ€»ç»“ï¼ˆ2025-09-21å®Œæˆç‰ˆæœ¬ï¼‰

### âœ… æ ¸å¿ƒæŠ€æœ¯æˆå°± (æœ€ç»ˆç‰ˆæœ¬)
- **å®Œæ•´Pipeline**: ä»legoç‚«å…‰æ•°æ®é›†åˆ°äº‹ä»¶ç›¸æœºé‡å»ºçš„ç«¯åˆ°ç«¯æµç¨‹
- **åæ ‡ç³»ç»Ÿç»Ÿä¸€**: X,Yåæ ‡å˜æ¢å®Œå…¨æ­£ç¡®ï¼Œæ— éœ€æ‰‹åŠ¨è°ƒæ•´
- **ğŸ¯ å®Œç¾200:200å¯¹åº”**: é€šè¿‡æ™ºèƒ½è¡¥å…¨ç¬¬200å¼ å›¾åƒï¼Œå®ç°åŸå§‹å›¾åƒä¸é‡å»ºå›¾åƒçš„å®Œç¾å¯¹åº”
- **å¤šæ–¹æ³•é‡å»ºæˆåŠŸ**: 4ç§æ–¹æ³•æˆåŠŸé‡å»º (E2VID, FireNet, SPADE-E2VID, SSL-E2VID)ï¼Œ4ç§æ–¹æ³•å¤±è´¥ (è·¯å¾„å…¼å®¹æ€§é—®é¢˜)
- **Between-framesæœºåˆ¶æ·±åº¦è§£æ**: é€šè¿‡æºä»£ç åˆ†æå®Œå…¨ç†è§£EVREALçš„æ—¶é—´çª—å£é‡å»ºé€»è¾‘
- **æ•°å­¦æé™çªç ´**: åœ¨between_framesçš„N-1é™åˆ¶åŸºç¡€ä¸Šï¼Œé€šè¿‡æ™ºèƒ½è¡¥å…¨å®ç°200:200å¯¹åº”
- **é‡å»ºè´¨é‡æ’å**: SSL-E2VIDæœ€ä½³ (MSE=0.046), SPADE-E2VIDæ¬¡ä¹‹ (MSE=0.099), FireNetå¿«é€Ÿ (21ms)
- **æ•°æ®ä¸€è‡´æ€§**: 800å¼ é‡å»ºå›¾åƒ (4æ–¹æ³•Ã—200å¼ )ï¼Œç»Ÿä¸€çš„480x640å°ºå¯¸ï¼Œå®Œç¾çš„æ–‡ä»¶åå¯¹åº”
- **æ–‡ä»¶åæ˜ å°„**: é‡å»ºçš„0001.png-0200.png â†” åŸå§‹çš„0001.png-0200.pngï¼Œå®Œç¾200:200å¯¹åº”

### ğŸ› ï¸ æŠ€æœ¯è§„èŒƒç¡®è®¤
- **DVSæ ¼å¼**: `[timestamp_us, x, y, polarity]` - Xâˆˆ[20,639], Yâˆˆ[0,479]
- **EVREALæ ¼å¼**: `events_xy.npy` - æ­£ç¡®çš„[x,y]åæ ‡å¯¹åº”
- **é‡å»ºå›¾åƒ**: 480x640 (HÃ—W) æ ¼å¼ï¼Œä¸åŸå§‹å›¾åƒå®Œå…¨ä¸€è‡´
- **æ—¶é—´æˆ³å¯¹é½**: 199å¼ é‡å»ºå›¾åƒæ—¶é—´æˆ³ä¸åŸå§‹å›¾åƒç²¾ç¡®ä¸€è‡´ï¼ˆè¯¯å·®0.000msï¼‰
- **æ–‡ä»¶å‘½å**: é‡å»º0001.png-0199.png â†” åŸå§‹0001.png-0199.pngï¼Œä½å§¿å®Œå…¨å¯¹é½
- **è¯„ä¼°ç¯å¢ƒ**: Umain2 condaç¯å¢ƒï¼Œå®Œå…¨å…¼å®¹

### ğŸ¯ äº‹ä»¶ç›¸æœºé‡å»ºæ–¹æ³•çš„æ—¶é—´æˆ³è¯­ä¹‰ (æœ€ç»ˆç¡®è®¤)
- **EVREALçš„between_framesæ¨¡å¼**: ä½¿ç”¨äº‹ä»¶çª—å£[t_i, t_{i+1}]é‡å»º**æ—¶åˆ»t_i**çš„å›¾åƒ
- **é‡å»ºæ—¶é—´æˆ³å¯¹åº”**: frame_N.png â†” æ—¶é—´æˆ³t_N â†” åŸå§‹å›¾åƒN+1
- **æ—¶é—´åç½®**: é‡å»ºå›¾åƒç›¸å¯¹äº‹ä»¶çª—å£èµ·å§‹æ—¶åˆ»æœ‰**0åç½®**ï¼Œä½†ç›¸å¯¹ç†è®º0æ—¶åˆ»æœ‰**+225Î¼så›ºå®šåç§»**
- **å®é™…æ—¶é—´æˆ³**: frame_i â†” (äº‹ä»¶èµ·å§‹æ—¶é—´0.000225s + iÃ—1ms) â†” åŸå§‹å›¾åƒi+1
- **âŒ æ•°å­¦é™åˆ¶ï¼ˆä¸å¯çªç ´ï¼‰**: EVREALç¡¬ç¼–ç  `self.length = self.num_frames - 1`
- **âŒ æ•°æ®é™åˆ¶**: è¦æ±‚ `len(images) == len(images_ts)`ï¼Œä¸å…è®¸N+1ä¸ªæ—¶é—´æˆ³
- **ğŸ“Š æœ€ç»ˆç»“è®º**: 200å¼ åŸå§‹å›¾åƒ â†’ 199å¼ é‡å»ºå›¾åƒ (between_framesæ•°å­¦æé™)
- **âœ… ä½å§¿å¯¹é½**: 199å¼ é‡å»ºå›¾åƒä¸åŸå§‹å›¾åƒ1-199å®Œç¾å¯¹é½ï¼ˆ0.000msè¯¯å·®ï¼‰

## ğŸ¬ **è§†é¢‘ç”Ÿæˆç³»ç»Ÿ** (2025-09-30å®Œæˆ)

### âœ… **é€šç”¨è§†é¢‘ç”Ÿæˆè„šæœ¬** (**Production Ready**)

#### **æ ¸å¿ƒåŠŸèƒ½**
- **è‡ªåŠ¨è½¬æ¢**: åŸå§‹å½©è‰²å›¾åƒâ†’ç°åº¦å›¾â†’MP4è§†é¢‘
- **å…¨é¢æ”¯æŒ**: train/teståŸå§‹å›¾åƒ + æ‰€æœ‰3DGSæ¸²æŸ“ç»“æœ
- **é€šç”¨è®¾è®¡**: æ”¯æŒä»»æ„æ•°æ®é›†ï¼ˆlego2ã€hotdogã€shipç­‰ï¼‰
- **é«˜è´¨é‡ç¼–ç **: ä½¿ç”¨ffmpeg H.264ç¼–ç ï¼ŒCRF=18é«˜è´¨é‡

#### **ä½¿ç”¨æ–¹æ³•**
```bash
# æ¿€æ´»Umain2ç¯å¢ƒï¼ˆåŒ…å«ffmpegï¼‰
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2

# ä¸ºlego2æ•°æ®é›†ç”Ÿæˆæ‰€æœ‰è§†é¢‘ï¼ˆå«ç°åº¦è½¬æ¢ï¼‰
python create_videos.py lego2 --grayscale --fps 60

# ä¸ºå…¶ä»–æ•°æ®é›†ç”Ÿæˆè§†é¢‘
python create_videos.py hotdog --grayscale --fps 60
python create_videos.py ship --fps 30
```

#### **è¾“å‡ºç»“æœ**
è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹è§†é¢‘ï¼š
- `{dataset}_train_grayscale.mp4` - è®­ç»ƒé›†ç°åº¦è§†é¢‘ï¼ˆ200å¸§ï¼‰
- `{dataset}_test_grayscale.mp4` - æµ‹è¯•é›†ç°åº¦è§†é¢‘ï¼ˆ200å¸§ï¼‰  
- `{dataset}_3dgs_original.mp4` - åŸå§‹æ•°æ®3DGSæ¸²æŸ“è§†é¢‘ï¼ˆ200å¸§ï¼‰
- `{dataset}_3dgs_spade_e2vid_original.mp4` - å„ç§é‡å»ºæ–¹æ³•çš„3DGSæ¸²æŸ“è§†é¢‘
- `{dataset}_3dgs_spade_e2vid_Unet.mp4`
- `{dataset}_3dgs_spade_e2vid_Unetsimple.mp4`

#### **æˆåŠŸæ¡ˆä¾‹** (lego2æ•°æ®é›†)
```bash
# æˆåŠŸç”Ÿæˆçš„è§†é¢‘æ–‡ä»¶ï¼š
videos/lego2_train_grayscale.mp4          # 376KB, 640x480@60fps
videos/lego2_test_grayscale.mp4           # 366KB, 640x480@60fps  
videos/lego2_3dgs_original.mp4            # 387KB, 640x480@60fps
videos/lego2_3dgs_spade_e2vid_original.mp4    # 430KB, 640x480@60fps
videos/lego2_3dgs_spade_e2vid_Unet.mp4        # 461KB, 640x480@60fps
videos/lego2_3dgs_spade_e2vid_Unetsimple.mp4 # 492KB, 640x480@60fps
```

#### **æŠ€æœ¯ç‰¹æ€§**
- **ç¯å¢ƒè¦æ±‚**: å¿…é¡»åœ¨Umain2ç¯å¢ƒä¸­è¿è¡Œï¼ˆåŒ…å«ffmpegå’ŒPILï¼‰
- **å›¾åƒå¤„ç†**: ä½¿ç”¨PILè¿›è¡Œç°åº¦è½¬æ¢ï¼Œé¿å…OpenCVä¾èµ–é—®é¢˜
- **è§†é¢‘ç¼–ç **: ffmpeg H.264ç¼–ç ï¼Œyuv420påƒç´ æ ¼å¼ï¼Œç¡®ä¿å…¼å®¹æ€§
- **æ–‡ä»¶ç®¡ç†**: è‡ªåŠ¨åˆ›å»ºä¸´æ—¶ç›®å½•ï¼ŒæŒ‰åºå·é‡å‘½åç¡®ä¿æ­£ç¡®é¡ºåº
- **é”™è¯¯å¤„ç†**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œè¿›åº¦æ˜¾ç¤º

#### **å‘½ä»¤å‚æ•°**
- `dataset`: æ•°æ®é›†åç§°ï¼ˆå¿…éœ€ï¼Œå¦‚lego2ï¼‰
- `--grayscale`: å°†åŸå§‹å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾ï¼ˆæ¨èï¼‰
- `--fps`: è§†é¢‘å¸§ç‡ï¼ˆé»˜è®¤10ï¼Œæ¨è60ï¼‰
- `--output-dir`: è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤videos/ï¼‰

#### **é€‚ç”¨åœºæ™¯**
- âœ… **å­¦æœ¯æ¼”ç¤º**: åˆ¶ä½œPPT/è®ºæ–‡å±•ç¤ºè§†é¢‘
- âœ… **ç»“æœå¯¹æ¯”**: å¯è§†åŒ–ä¸åŒæ–¹æ³•çš„é‡å»ºæ•ˆæœ
- âœ… **è¿›åº¦å±•ç¤º**: å±•ç¤ºæ•°æ®é›†å¤„ç†çš„å®Œæ•´æµç¨‹
- âœ… **è´¨é‡è¯„ä¼°**: åŠ¨æ€è§‚å¯Ÿé‡å»ºå›¾åƒçš„æ—¶åºä¸€è‡´æ€§

## ğŸ¯ 3DGSå®Œæ•´è®­ç»ƒè¯„ä¼°ç³»ç»Ÿ (2025-09-26å®Œæˆ)

### âœ… **å®Œæ•´3DGSè®­ç»ƒå’Œè¯„ä¼°ç³»ç»Ÿ** (**Production Ready**)

#### **1. å®Œæ•´è®­ç»ƒè¯„ä¼°ç³»ç»Ÿ - auto_train_3dgs_eval_complete.bat** (**2025-09-26 LATEST**)
- **åŠŸèƒ½**: æ‰¹é‡è®­ç»ƒå¤šç§æ•°æ®é…ç½®çš„3DGSæ¨¡å‹ + å®Œæ•´æ¸²æŸ“è¯„ä¼°æµç¨‹
- **ç‰¹è‰²**: å®‰å…¨æ— GOTOè®¾è®¡ï¼Œç»“æ„åŒ–å­ç¨‹åºï¼Œå®Œå–„é”™è¯¯å¤„ç†
- **ğŸ”¥ CRITICAL FIX**: é›†æˆ`--eval`å‚æ•°ï¼Œæ­£ç¡®åˆ†ç¦»train/test
- **å®Œæ•´æµç¨‹**: è®­ç»ƒ â†’ æ¸²æŸ“ â†’ å¤‡ä»½renders â†’ è®¡ç®—æŒ‡æ ‡ â†’ ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š
- **æ”¯æŒé…ç½®**:
  * `original` - åŸå§‹flareè®­ç»ƒå›¾åƒ 
  * `spade_e2vid_original` - spade-e2vidé‡å»º(åŸå§‹H5)
  * `spade_e2vid_Unet` - spade-e2vidé‡å»º(Unetå¤„ç†H5)  
  * `spade_e2vid_Unetsimple` - spade-e2vidé‡å»º(Unetsimpleå¤„ç†H5)
- **è¾“å‡º**: è®­ç»ƒå¥½çš„æƒé‡æ–‡ä»¶ä¿å­˜åˆ° `datasets/{dataset}/3dgs_results/weights/{é…ç½®å}/`
- **ä¼˜åŒ–**: ä»…è®­ç»ƒä¸æ¸²æŸ“ï¼Œé¿å…é‡å¤è®¡ç®—ï¼Œæå‡æ•ˆç‡

#### **2. æ¸²æŸ“å’Œè¯„ä¼°ç³»ç»Ÿ**
**æ‰¹å¤„ç†ç‰ˆæœ¬**: `render_and_evaluate.bat`
- **åŠŸèƒ½**: ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œæ¸²æŸ“å’ŒæŒ‡æ ‡è®¡ç®—
- **ç‰¹è‰²**: WindowsåŸç”Ÿæ”¯æŒï¼Œè¯¦ç»†è°ƒè¯•ä¿¡æ¯

**Pythonç‰ˆæœ¬**: `render_and_evaluate.py` (æ¨è)
- **åŠŸèƒ½**: è·¨å¹³å°æ¸²æŸ“è¯„ä¼°ï¼Œæ›´å¥½çš„é”™è¯¯å¤„ç†
- **ç‰¹è‰²**: JSONç»“æ„åŒ–è¾“å‡ºï¼Œçµæ´»é…ç½®å‚æ•°
- **è¾“å‡º**:
  * æ¸²æŸ“å›¾åƒ: `datasets/{dataset}/3dgs_results/final_renders/{é…ç½®å}/` (å®Œæ•´200å¼ PNG)
  * è¯„ä¼°æŒ‡æ ‡: `datasets/{dataset}/3dgs_results/final_metrics/{é…ç½®å}_metrics.txt`
  * å¯¹æ¯”æŠ¥å‘Š: `comparison_report.txt` å’Œ `comparison_report.json`

#### **3. é…ç½®ç”Ÿæˆç³»ç»Ÿ**
- **è„šæœ¬**: `generate_json_configs.py`
- **åŠŸèƒ½**: è‡ªåŠ¨ç”Ÿæˆä¸åŒæ•°æ®æºçš„JSONé…ç½®æ–‡ä»¶
- **æ”¯æŒ**: åŸå§‹å›¾åƒ+å¤šç§H5é‡å»ºæ•°æ®æºçš„è®­ç»ƒé…ç½®

### âœ… **æ ¸å¿ƒæŠ€æœ¯ä¿®å¤** (**2025-09-26å®Œæˆ**)

#### **1. æ··åˆå›¾åƒæ ¼å¼å…¼å®¹æ€§**
- **dataset_readers.py**: æ™ºèƒ½å¤„ç†L/RGB/RGBAæ··åˆæ ¼å¼
- **train.py**: `to_grayscale_safe()`å‡½æ•°å¤„ç†1/3/4é€šé“å›¾åƒ  
- **loss_utils.py**: å¢å¼ºSSIMå‡½æ•°å¤„ç†ç»´åº¦ä¸åŒ¹é…
- **render.py**: ä¿®å¤æ¸²æŸ“å›¾åƒä¿å­˜é—®é¢˜ï¼Œä»æ¯20å¼ ä¿å­˜æ”¹ä¸ºå®Œæ•´200å¼ ä¿å­˜

#### **2. æ‰¹å¤„ç†è„šæœ¬ä¼˜åŒ–**
- **æ¶ˆé™¤å±é™©GOTO**: ä½¿ç”¨å­ç¨‹åºè°ƒç”¨æ›¿ä»£gotoè·³è½¬
- **ç»“æ„åŒ–è®¾è®¡**: ä¸»ç¨‹åºâ†’éªŒè¯â†’è®­ç»ƒå¾ªç¯â†’æŠ¥å‘Šç”Ÿæˆ
- **é”™è¯¯å¤„ç†**: åˆ†å±‚é”™è¯¯å¤„ç†ï¼Œä¼˜é›…é™çº§ï¼Œè¯¦ç»†æ—¥å¿—

#### **3. æ¸²æŸ“ä¿å­˜ä¿®å¤** (**Critical Bug Fix**)
- **é—®é¢˜**: åŸæ¥`save_every_n=20`å¯¼è‡´200å¼ æµ‹è¯•å›¾åªä¿å­˜10å¼ 
- **ä¿®å¤**: æ”¹ä¸º`save_every_n=None`ä¿å­˜å®Œæ•´200å¼ å›¾åƒ
- **éªŒè¯**: ç¡®ä¿backup_renderså‡½æ•°æ­£ç¡®ç»Ÿè®¡å’Œå¤åˆ¶æ‰€æœ‰å›¾åƒ

### ğŸš€ **3DGSå®Œæ•´ä½¿ç”¨æ•™ç¨‹** (**Production Ready - 2025-09-26**)

## âš¡ **ä¸€é”®å¼å®Œæ•´æµç¨‹** (æ¨è)

```batch
# 1. ç”Ÿæˆè®­ç»ƒé…ç½® (ä¸€æ¬¡æ€§)
python generate_json_configs.py lego2 spade_e2vid

# 2. è¿è¡Œå®Œæ•´è®­ç»ƒ+è¯„ä¼°æµç¨‹ (ä¸€é”®å®Œæˆæ‰€æœ‰å·¥ä½œ!)
auto_train_3dgs_eval_complete.bat lego2 spade_e2vid
```

**è¿™ä¸€æ¡å‘½ä»¤å®Œæˆ**:
- âœ… 4ä¸ªé…ç½®è®­ç»ƒ (with `--eval` æ­£ç¡®åˆ†ç¦»train/test)
- âœ… è‡ªåŠ¨æ¸²æŸ“test set (800å¼ å›¾åƒç”¨äºPPT)  
- âœ… è®¡ç®—è¯„ä¼°æŒ‡æ ‡ (PSNR/SSIM/LPIPS)
- âœ… ç”Ÿæˆå®Œæ•´å¯¹æ¯”æŠ¥å‘Š

**è¿è¡Œåæ£€æŸ¥ç»“æœ**:
```batch
dir datasets\lego2\3dgs_results\final_renders\  # 800å¼ æ¸²æŸ“å›¾åƒ(PPTç´ æ)
type datasets\lego2\3dgs_results\final_metrics\comparison_report.txt  # è¯„ä¼°æŠ¥å‘Š
```

### ğŸ“Š **é¢„æœŸè¾“å‡ºç»“æ„**
```
datasets/lego2/3dgs_results/
â”œâ”€â”€ weights/                    # è®­ç»ƒæƒé‡ (4Ã—50MB)
â”‚   â”œâ”€â”€ original/
â”‚   â”œâ”€â”€ spade_e2vid_original/  
â”‚   â”œâ”€â”€ spade_e2vid_Unet/
â”‚   â””â”€â”€ spade_e2vid_Unetsimple/
â”œâ”€â”€ final_renders/              # æ¸²æŸ“å›¾åƒ (4Ã—200å¼ )
â”‚   â”œâ”€â”€ original/               # 200å¼ 640Ã—480ç°åº¦å›¾
â”‚   â”œâ”€â”€ spade_e2vid_original/   # 200å¼ 640Ã—480ç°åº¦å›¾
â”‚   â”œâ”€â”€ spade_e2vid_Unet/       # 200å¼ 640Ã—480ç°åº¦å›¾
â”‚   â””â”€â”€ spade_e2vid_Unetsimple/ # 200å¼ 640Ã—480ç°åº¦å›¾
â””â”€â”€ final_metrics/              # è¯„ä¼°æŒ‡æ ‡
    â”œâ”€â”€ original_metrics.txt        # PSNR/SSIM/LPIPSæŒ‡æ ‡
    â”œâ”€â”€ spade_e2vid_original_metrics.txt
    â”œâ”€â”€ spade_e2vid_Unet_metrics.txt  
    â”œâ”€â”€ spade_e2vid_Unetsimple_metrics.txt
    â”œâ”€â”€ comparison_report.txt       # æ–‡æœ¬å¯¹æ¯”æŠ¥å‘Š
    â””â”€â”€ comparison_report.json      # ç»“æ„åŒ–å¯¹æ¯”æŠ¥å‘Š
```

### ğŸ¯ **å…³é”®å‘ç°ä¸è§£å†³æ–¹æ¡ˆ** (2025-09-26)

#### **ğŸ”¥ æ ¹æœ¬é—®é¢˜**: Test CamerasåŠ è½½å¤±è´¥
- **åŸå› **: è®­ç»ƒæ—¶æœªä½¿ç”¨`--eval`å‚æ•°ï¼Œå¯¼è‡´test camerasè¢«åˆå¹¶åˆ°train cameras
- **æŠ€æœ¯ç»†èŠ‚**: `scene/dataset_readers.py:324-326`ä¸­`eval=False`æ—¶æ‰§è¡Œåˆå¹¶æ“ä½œ
- **è§£å†³æ–¹æ¡ˆ**: åœ¨è®­ç»ƒå‘½ä»¤ä¸­æ·»åŠ `--eval`å‚æ•°å®ç°çœŸæ­£çš„train/teståˆ†ç¦»
- **éªŒè¯æŒ‡æ ‡**: Test cameras countåº”ä»0å˜ä¸º200

#### **âš ï¸ å¾…éªŒè¯é£é™©**
- **--evalå¯¹è®­ç»ƒæ•ˆæœçš„å®é™…å½±å“éœ€è¦æµ‹è¯•ç¡®è®¤**  
- **æ•°æ®é›†å¯¹åº”å…³ç³»å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦éªŒè¯ä¸€è‡´æ€§**


## ğŸš€ **æ¨èä½¿ç”¨å‘½ä»¤** (2025-09-27 LATEST - åˆ†ç¦»å¼å·¥ä½œæµ)

### âš¡ **åˆ†ç¦»å¼å·¥ä½œæµ** (æ¨è):

#### **æ­¥éª¤1: é…ç½®å‡†å¤‡** (ä¸€æ¬¡æ€§)
```batch
python generate_json_configs.py lego2 spade_e2vid
```

#### **æ­¥éª¤2: æ‰¹é‡è®­ç»ƒ** (åªè®­ç»ƒï¼Œä¸æ¸²æŸ“)
```batch
train_3dgs_batch.bat lego2 spade_e2vid
```
**åŠŸèƒ½**:
- âœ… 4ä¸ªé…ç½®è®­ç»ƒ (é›†æˆ--evalä¿®å¤)
- âœ… æƒé‡è‡ªåŠ¨å¤‡ä»½åˆ° `datasets/lego2/3dgs_results/weights/`
- âŒ ä¸åŒ…å«æ¸²æŸ“ (æ›´å¿«ï¼Œèµ„æºé«˜æ•ˆ)

#### **æ­¥éª¤3: æ¸²æŸ“å’Œè¯„ä¼°** (ç‹¬ç«‹è¿è¡Œ)
```bash
python render_and_evaluate.py --dataset lego2 --method spade_e2vid --weights-dir "gaussian-splatting/output"
```
**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨å‘ç°æ‰€æœ‰è®­ç»ƒå¥½çš„æ¨¡å‹ (åŠ¨æ€iterationæ£€æµ‹)
- âœ… æ¸²æŸ“test set (800å¼ PPTå›¾åƒï¼Œæ¯ä¸ªæ¨¡å‹200å¼ )  
- âœ… è®¡ç®—PSNR/SSIM/LPIPSæŒ‡æ ‡ (åŸºäºå®Œæ•´200å¼ å›¾åƒ)
- âœ… ç”Ÿæˆå®Œæ•´å¯¹æ¯”æŠ¥å‘Š

### ğŸ”§ **å…³é”®Bugä¿®å¤** (2025-09-27):
- **æ¸²æŸ“æ•°é‡ä¿®å¤**: ç§»é™¤äº†`render.py`ä¸­`idx >= 2`çš„è°ƒè¯•é™åˆ¶
- **æŒ‡æ ‡å‡†ç¡®æ€§**: ä»åŸºäº3å¼ å›¾åƒçš„é”™è¯¯å¹³å‡å€¼æ”¹ä¸º200å¼ å›¾åƒçš„å‡†ç¡®è¯„ä¼°
- **åŠ¨æ€iteration**: è„šæœ¬è‡ªåŠ¨æ£€æµ‹æœ€æ–°iterationï¼Œä¸å†ç¡¬ç¼–ç 7000

### ğŸ¯ **åˆ†ç¦»å¼å·¥ä½œæµä¼˜åŠ¿**:
- **çµæ´»æ€§**: å¯ä»¥å•ç‹¬é‡æ–°æ¸²æŸ“è€Œä¸é‡æ–°è®­ç»ƒ
- **æ•ˆç‡**: è®­ç»ƒå¤±è´¥æ—¶ä¸å½±å“æ¸²æŸ“ï¼Œæ¸²æŸ“å¤±è´¥æ—¶ä¸å½±å“è®­ç»ƒ
- **è°ƒè¯•**: æ¯ä¸ªé˜¶æ®µç‹¬ç«‹ï¼Œæ›´å®¹æ˜“å®šä½é—®é¢˜
- **å‡†ç¡®æ€§**: å®Œæ•´200å¼ å›¾åƒè¯„ä¼°ï¼Œç¡®ä¿æŒ‡æ ‡å¯é 
- **èµ„æº**: å¯ä»¥åœ¨ä¸åŒæ—¶é—´/æœºå™¨ä¸Šæ‰§è¡Œ

## âš ï¸ é‡è¦æé†’
- **ğŸš¨ ç¯å¢ƒä¿æŠ¤é“å¾‹**: ç»å¯¹ä¸å¯ä»¥ç ´åcondaç¯å¢ƒä¸­çš„å·²æœ‰åŒ…ï¼åªèƒ½æ·»åŠ æ–°åŒ…ï¼Œä¸èƒ½å‡çº§/é™çº§ç°æœ‰åŒ…ï¼
- **ğŸ”¥ CRITICAL**: äº‹ä»¶ç›¸æœºpipelineä½¿ç”¨Umain2ç¯å¢ƒï¼Œ3DGSä½¿ç”¨3dgsç¯å¢ƒ
- **ğŸ”¥ CRITICAL**: H5æ‰¹é‡é‡å»ºè„šæœ¬å¿…é¡»åœ¨Umain2ç¯å¢ƒä¸­è¿è¡Œ: `source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2`
- **åæ ‡ç³»ç»Ÿ**: å·²å®Œå…¨ä¿®å¤ï¼Œç¡®ä¿X,Yåæ ‡æ­£ç¡®å¯¹åº”
- **æ–‡ä»¶å‘½å**: ä¸¥æ ¼æŒ‰ç…§ `lego_train_events.txt` ç­‰è§„èŒƒå‘½å
- **æ—¶é—´æˆ³æ ¼å¼**: DVSä½¿ç”¨å¾®ç§’ï¼ŒEVREALä½¿ç”¨ç§’ï¼ŒH5ä¿æŒå¾®ç§’
- **ç‚¹äº‘åˆå§‹åŒ–**: 3DGSç°ä½¿ç”¨éšæœºç°è‰²ç‚¹äº‘ï¼Œç¡®ä¿å…¬å¹³æ¯”è¾ƒ

## ğŸ› ï¸ æ‰¹é‡é‡å»ºè„šæœ¬ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå¯åŠ¨å‘½ä»¤
```bash
# æ¿€æ´»Umain2ç¯å¢ƒå¹¶è¿è¡Œæ‰¹é‡é‡å»º
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2 && python batch_h5_reconstruction.py
```

### è„šæœ¬åŠŸèƒ½æ¦‚è¿°
- **è¾“å…¥**: `datasets/lego/events_h5/`ä¸­çš„æ‰€æœ‰H5æ–‡ä»¶ï¼ˆé™¤backupï¼‰
- **å¤„ç†**: æ¯ä¸ªH5æ–‡ä»¶ â†’ H5â†’EVREALè½¬æ¢ â†’ EVREALé‡å»º â†’ ç»“æœå¤åˆ¶
- **è¾“å‡º**: `datasets/lego/reconstruction_*`ç›®å½•ï¼ŒæŒ‰H5æ–‡ä»¶åå‘½å
- **æ–¹æ³•**: E2VID, FireNet, SPADE-E2VID, SSL-E2VID (4ç§æˆåŠŸæ–¹æ³•)

### å½“å‰è„šæœ¬æ‰§è¡ŒçŠ¶æ€ï¼ˆ2025-09-24 15:30ï¼‰
```
âœ… è„šæœ¬åˆ›å»º: batch_h5_reconstruction.py (17KB)
âœ… ç›®å½•åˆ›å»º: reconstruction_lego_sequence, reconstruction_lego_sequence_Unet, reconstruction_lego_sequence_Unetsimple (å‡ä¸ºç©º)
âœ… H5æ•°æ®: 3ä¸ªæœ‰æ•ˆH5æ–‡ä»¶ + 1ä¸ªbackup (æ€»è®¡309MB)
âš ï¸  é‡å»ºç»“æœ: æ‰€æœ‰è¾“å‡ºç›®å½•ä¸ºç©ºï¼Œè¡¨æ˜EVREALé‡å»ºæˆ–ç»“æœå¤åˆ¶å¤±è´¥
```

### å½“å‰å·²çŸ¥é—®é¢˜
1. **EVREALé…ç½®è·¯å¾„é—®é¢˜**ï¼ˆå·²ä¿®æ­£è·¯å¾„ä½†éœ€éªŒè¯ï¼‰
   - é”™è¯¯ï¼š`FileNotFoundError: 'config/dataset/batch_lego_sequence.json'`
   - ä¿®æ­£ï¼šè·¯å¾„ä»`configs/datasets/`æ”¹ä¸º`config/dataset/`
2. **é‡å»ºè€—æ—¶é•¿ä¸”è¾“å‡ºç›®å½•ç©º**ï¼ˆå…³é”®é—®é¢˜ï¼‰
   - ç°è±¡ï¼š3ä¸ªreconstruction_*ç›®å½•å·²åˆ›å»ºä½†å®Œå…¨ä¸ºç©º
   - å¯èƒ½åŸå› ï¼šEVREALé‡å»ºå¤±è´¥ã€ç»“æœå¤åˆ¶é€»è¾‘é”™è¯¯ã€æˆ–è€…é‡å»ºè¿‡ç¨‹è¢«ä¸­æ–­
3. **å¤šæ–‡ä»¶å¤„ç†å¯èƒ½å­˜åœ¨è¦†ç›–é£é™©**ï¼ˆéœ€è¦ä¼˜åŒ–æµç¨‹ï¼‰

## æ•°æ®é›†ç»“æ„

### åŸå§‹æ•°æ®é›†
- `lego_flare/`: å¸¦ç‚«å…‰çš„legoæ•°æ®é›†
- `lego_normal/`: æ— ç‚«å…‰çš„legoæ•°æ®é›†
- ä¸¤ä¸ªæ•°æ®é›†çš„ä½å§¿ï¼ˆtransform_matrixï¼‰å®Œå…¨ç›¸åŒ
- æ¯ä¸ªæ•°æ®é›†åŒ…å«200å¼ è®­ç»ƒå›¾ç‰‡

### åˆå¹¶åæ•°æ®é›†
- `lego/`: åˆå¹¶åçš„å®Œæ•´æ•°æ®é›†
  - `train/`: 200å¼ è®­ç»ƒå›¾ç‰‡ï¼ˆæ¥è‡ªlego_flareï¼ŒåŒ…å«ç‚«å…‰ï¼‰
  - `test/`: 200å¼ æµ‹è¯•å›¾ç‰‡ï¼ˆæ¥è‡ªlego_normalï¼Œæ— ç‚«å…‰ï¼‰
  - `transforms_train.json`: è®­ç»ƒé›†ä½å§¿æ–‡ä»¶
  - `transforms_test.json`: æµ‹è¯•é›†ä½å§¿æ–‡ä»¶
  - `points3d.ply`: 3Dç‚¹äº‘æ–‡ä»¶

### è·¯å¾„ä¿®æ­£é—®é¢˜
åŸå§‹transformsæ–‡ä»¶ä¸­çš„è·¯å¾„æ ¼å¼ä¸º `"train\\r_00001"`ï¼Œä½†å®é™…æ–‡ä»¶åä¸º `0001.png`ã€‚
åˆå¹¶è„šæœ¬å·²è‡ªåŠ¨ä¿®æ­£ä¸ºæ­£ç¡®æ ¼å¼ï¼š`"train/0001"` å’Œ `"test/0001"`ã€‚

## è„šæœ¬æ–‡ä»¶

### merge_datasets.py
æ•°æ®é›†åˆå¹¶è„šæœ¬ï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼š
1. è‡ªåŠ¨æ£€æµ‹æ‰€æœ‰ `*_flare` å’Œ `*_normal` æ•°æ®é›†å¯¹
2. å°†flareç‰ˆæœ¬ä½œä¸ºè®­ç»ƒé›†ï¼Œnormalç‰ˆæœ¬ä½œä¸ºæµ‹è¯•é›†
3. ä¿®æ­£transformsæ–‡ä»¶ä¸­çš„è·¯å¾„æ ¼å¼é”™è¯¯
4. éªŒè¯åˆå¹¶ç»“æœçš„å®Œæ•´æ€§

ä½¿ç”¨æ–¹æ³•ï¼š
```bash
python3 merge_datasets.py
```

## å®éªŒè®¾è®¡æ€è·¯
- è®­ç»ƒé˜¶æ®µï¼šä½¿ç”¨å¸¦ç‚«å…‰çš„å›¾ç‰‡è®­ç»ƒæ¨¡å‹ï¼Œè®©æ¨¡å‹å­¦ä¼šå¤„ç†ç‚«å…‰å¹²æ‰°
- æµ‹è¯•é˜¶æ®µï¼šä½¿ç”¨æ— ç‚«å…‰çš„å›¾ç‰‡éªŒè¯æ¨¡å‹åœ¨ç†æƒ³æ¡ä»¶ä¸‹çš„é‡å»ºè´¨é‡
- ä½å§¿å®Œå…¨ç›¸åŒç¡®ä¿äº†è®­ç»ƒå’Œæµ‹è¯•çš„ä¸€è‡´æ€§

## ğŸ“¦ æ¨¡å—è¯¦ç»†è¯´æ˜

### 3D Gaussian Splatting (`gaussian-splatting/`)
**åŠŸèƒ½**: å®æ—¶3Dåœºæ™¯é‡å»ºå’Œæ–°è§†è§’åˆæˆ
**ç‰¹è‰²**: é›†æˆäº†PDTSæ™ºèƒ½è§†å›¾é€‰æ‹©ç®—æ³•ï¼Œæå‡è®­ç»ƒæ•ˆç‡

#### æ ¸å¿ƒç‰¹æ€§:
- **å®æ—¶æ¸²æŸ“**: â‰¥30fpsçš„1080pæ–°è§†è§’åˆæˆ
- **æ™ºèƒ½è§†å›¾é€‰æ‹©**: PDTSç¥ç»ç½‘ç»œé¢„æµ‹æŸå¤±ï¼Œæ›¿ä»£ç›´æ¥è®¡ç®—
- **æ··åˆé‡‡æ ·ç­–ç•¥**: Bootstrapé˜¶æ®µéšæœºé‡‡æ · + Hybridé˜¶æ®µç½‘ç»œæŒ‡å¯¼é‡‡æ ·
- **é«˜è´¨é‡é‡å»º**: ä¿æŒSOTAè§†è§‰è´¨é‡çš„åŒæ—¶æå‡è®­ç»ƒé€Ÿåº¦

#### å…³é”®æ–‡ä»¶:
- `train.py`: ä¸»è®­ç»ƒè„šæœ¬ï¼ˆé›†æˆPDTSé€‰æ‹©é€»è¾‘ï¼‰
- `render.py`: æ¸²æŸ“è„šæœ¬ï¼Œç”Ÿæˆæ–°è§†è§’å›¾åƒ
- `pdts_integration.py`: PDTSé£é™©å­¦ä¹ å™¨å®ç°
- `scene/`: åœºæ™¯æ•°æ®åŠ è½½å’Œç®¡ç†
- `gaussian_renderer/`: é«˜æ–¯å…‰æ …åŒ–æ¸²æŸ“å™¨

#### è¿è¡Œç¯å¢ƒ:
- **æ¨è**: Windows + CUDA GPU
- **åŸå› **: ç”¨æˆ·ç†Ÿæ‚‰Windowsç¯å¢ƒï¼ŒGPUåŠ é€Ÿæ•ˆæœæ›´å¥½

### DVSäº‹ä»¶ç›¸æœºä»¿çœŸå™¨ (`DVS-Voltmeter-main/`)  
**åŠŸèƒ½**: åŸºäºéšæœºè¿‡ç¨‹çš„DVSäº‹ä»¶ç›¸æœºä»¿çœŸå™¨
**è®ºæ–‡**: "DVS-Voltmeter: Stochastic Process-based Event Simulator" (ECCV 2022)

#### æ ¸å¿ƒç®—æ³•:
- **éšæœºè¿‡ç¨‹å»ºæ¨¡**: æ¨¡æ‹ŸçœŸå®DVSä¼ æ„Ÿå™¨çš„å™ªå£°ç‰¹æ€§
- **åƒç´ çº§ä»¿çœŸ**: æ¯ä¸ªåƒç´ ç‹¬ç«‹çš„äº‹ä»¶ç”Ÿæˆè¿‡ç¨‹
- **å‚æ•°åŒ–æ¨¡å‹**: æ”¯æŒDVS346ã€DVS240ç­‰ä¸åŒç›¸æœºå‹å·

#### è¾“å…¥è¦æ±‚:
- é«˜å¸§ç‡å›¾åƒåºåˆ—ï¼ˆé€šè¿‡è§†é¢‘æ’å€¼è·å¾—ï¼‰
- å›¾åƒæ ¼å¼: PNGæ ¼å¼ï¼ŒæŒ‰æ•°å­—ç¼–å·å‘½å
- é…ç½®æ–‡ä»¶: `info.txt` æè¿°åºåˆ—ä¿¡æ¯

#### è¾“å‡ºæ•°æ®:
- äº‹ä»¶æ•°æ®æµ: (x, y, timestamp, polarity)
- å¯è§†åŒ–ç»“æœ: äº‹ä»¶ä½“ç´ ç½‘æ ¼è¡¨ç¤º

#### å…³é”®æ–‡ä»¶:
- `main.py`: ä¸»ä»¿çœŸè„šæœ¬
- `src/simulator.py`: äº‹ä»¶ä»¿çœŸå™¨æ ¸å¿ƒç®—æ³•  
- `src/config.py`: ç›¸æœºå‚æ•°é…ç½®
- `src/visualize.py`: äº‹ä»¶æ•°æ®å¯è§†åŒ–

## ğŸ”„ æ•°æ®æµå‘è®¾è®¡

```
åŸå§‹æ•°æ®é›† â†’ æ•°æ®é¢„å¤„ç† â†’ 3DGSè®­ç»ƒ â†’ å›¾åƒåºåˆ—ç”Ÿæˆ â†’ äº‹ä»¶ä»¿çœŸ â†’ äº‹ä»¶æ•°æ®é›†
    â†“              â†“           â†“            â†“           â†“
lego_flare/   merge_datasets  gaussian-    render.py   DVS-Voltmeter  
lego_normal/       â†“         splatting/      â†“             â†“
    â†“         datasets/lego/     â†“       é«˜å¸§ç‡å›¾åƒ     events.txt
åˆå¹¶æ•°æ®é›†      è®­ç»ƒæµ‹è¯•åˆ†ç¦»    3Dæ¨¡å‹      åºåˆ—        + å¯è§†åŒ–
```

## ğŸ“‹ å®éªŒTODOæ¸…å•

### è¿‘æœŸä»»åŠ¡ (ç”¨æˆ·æ‰§è¡Œ):
1. **3DGSè®­ç»ƒæµ‹è¯•**: åœ¨Windowsç¯å¢ƒè¿è¡Œgaussian-splatting
2. **å›¾åƒåºåˆ—ç”Ÿæˆ**: ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹æ¸²æŸ“é«˜å¸§ç‡å›¾åƒåºåˆ—  
3. **åºåˆ—è´¨é‡æ£€æŸ¥**: ç¡®ä¿å›¾åƒè¿ç»­æ€§å’Œæ—¶é—´ä¸€è‡´æ€§

### ä¸­æœŸä»»åŠ¡ (äº‹ä»¶ä»¿çœŸ):
1. **DVSä»¿çœŸå‡†å¤‡**: å‡†å¤‡é«˜å¸§ç‡å›¾åƒåºåˆ—è¾“å…¥
2. **å‚æ•°è°ƒä¼˜**: è°ƒæ•´DVSç›¸æœºå‚æ•°åŒ¹é…å®éªŒéœ€æ±‚
3. **ä»¿çœŸæ‰§è¡Œ**: ç”Ÿæˆäº‹ä»¶æ•°æ®å’Œå¯è§†åŒ–ç»“æœ
4. **è´¨é‡è¯„ä¼°**: äº‹ä»¶æ•°æ®çš„å™ªå£°æ°´å¹³å’ŒçœŸå®æ€§åˆ†æ

### é•¿æœŸä»»åŠ¡ (ç³»ç»Ÿé›†æˆ):
1. **ç«¯åˆ°ç«¯Pipeline**: è‡ªåŠ¨åŒ–å®Œæ•´å·¥ä½œæµç¨‹
2. **å¤šåœºæ™¯æ‰©å±•**: æ”¯æŒæ›´å¤šæ•°æ®é›†å’Œåœºæ™¯ç±»å‹
3. **æ€§èƒ½ä¼˜åŒ–**: å„æ¨¡å—çš„é€Ÿåº¦å’Œå†…å­˜ä¼˜åŒ–
4. **ç»“æœåˆ†æ**: ç‚«å…‰å¯¹äº‹ä»¶ç›¸æœºä»¿çœŸå½±å“çš„å®šé‡åˆ†æ

## ç¯å¢ƒè¦æ±‚

### Linuxç¯å¢ƒ (å½“å‰WSL2):
- Python 3.x
- Umainç¯å¢ƒï¼ˆå·²æœ‰ç›¸å…³Pythonåº“ï¼‰
- ç”¨äºæ•°æ®é¢„å¤„ç†å’Œåˆ†æ

### Windowsç¯å¢ƒ (ç”¨æˆ·è´Ÿè´£):
- CUDAæ”¯æŒçš„GPU
- Python + PyTorch
- ç”¨äº3DGSè®­ç»ƒå’Œæ¸²æŸ“

### DVSä»¿çœŸç¯å¢ƒ:
```bash
easydict == 1.9
pytorch >= 1.8  
numpy >= 1.20.1
opencv-python == 4.5.1.48
tqdm == 4.49.0
```

---

# ğŸš€ **å®Œæ•´ç«¯åˆ°ç«¯å·¥ä½œæµç¨‹æ€»ç»“** (Production Ready)

## ğŸ“‹ **5é˜¶æ®µæ ‡å‡†æµç¨‹æ¦‚è§ˆ**

```
é˜¶æ®µ1: æ•°æ®é›†åˆ¶ä½œ â†’ é˜¶æ®µ2: å¤–éƒ¨H5å¤„ç† â†’ é˜¶æ®µ3: EVREALé‡å»º â†’ é˜¶æ®µ4: 3DGSè®­ç»ƒ â†’ é˜¶æ®µ5: 3DGSæ¸²æŸ“è¯„ä¼°
   (å†…éƒ¨)           (å¤–éƒ¨å¤„ç†)         (å†…éƒ¨)          (å†…éƒ¨)         (å†…éƒ¨)
```

---

## **é˜¶æ®µ1ï¸âƒ£: åŸå§‹æ•°æ®é›†åˆ¶ä½œ** (å†…éƒ¨å®ç°)

### **ç›®æ ‡**: ä»xxx_normal + xxx_flare â†’ å®Œæ•´äº‹ä»¶æ•°æ®é›†

### **æ ¸å¿ƒæ­¥éª¤**:
1. **æ•°æ®é›†åˆå¹¶**
2. **DVSäº‹ä»¶ä»¿çœŸ** 
3. **å¤šæ ¼å¼è½¬æ¢** (DVS â†” EVREAL â†” H5)

### **ä½¿ç”¨æ–¹æ³•**:
```bash
# ç¯å¢ƒå‡†å¤‡
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2

# 1. æ•°æ®é›†åˆå¹¶
python merge_datasets.py

# 2. å®Œæ•´pipeline (äº‹ä»¶ä»¿çœŸ + æ ¼å¼è½¬æ¢)
python -c "
import sys; sys.path.append('.')
from modules.image_preprocessor import *
from modules.dvs_simulator import *
from modules.format_converter import *
from pathlib import Path

# å›¾åƒé¢„å¤„ç†
config = PreprocessConfig()
config.input_dir = Path('datasets/xxx/train')
preprocessor = ImagePreprocessor(config)
image_sequence = preprocessor.process()

# DVSä»¿çœŸ
dvs_config = DVSSimulatorConfig() 
dvs_config.output_dir = Path('datasets/xxx/events_dvs')
simulator = DVSSimulatorWrapper(dvs_config)
result = simulator.simulate(image_sequence)

# æ ¼å¼è½¬æ¢
conv_config = ConversionConfig()
conv_config.dataset_name = 'xxx'
conv_config.dataset_dir = Path('datasets/xxx')
dvs_file = Path('datasets/xxx/events_dvs/xxx_sequence_new.txt')
pipeline = FormatConverterPipeline(conv_config)
results = pipeline.convert_dvs_events(dvs_file, 'xxx_sequence_new')
print('é˜¶æ®µ1å®Œæˆ: åŸºç¡€H5æ–‡ä»¶å·²ç”Ÿæˆ')
"
```

### **è¾“å‡º**: 
- `datasets/xxx/events_h5/xxx_sequence_new.h5` (åŸå§‹äº‹ä»¶H5æ–‡ä»¶)

---

## **é˜¶æ®µ2ï¸âƒ£: å¤–éƒ¨H5æ•°æ®å¤„ç†** (å¤–éƒ¨å®ç°)

### **è¯´æ˜**: æ­¤é˜¶æ®µç”±å¤–éƒ¨ç³»ç»Ÿå¤„ç†ï¼Œç”Ÿæˆä¸åŒç±»å‹çš„H5æ•°æ®

### **è¾“å…¥**: `xxx_sequence_new.h5` (åŸå§‹)
### **è¾“å‡º**: 
- `xxx_sequence_new_Unet.h5` (Unetå¤„ç†å)
- `xxx_sequence_new_Unetsimple.h5` (Unetsimpleå¤„ç†å)
- å…¶ä»–ç®—æ³•å¤„ç†çš„H5æ–‡ä»¶...

---

## **é˜¶æ®µ3ï¸âƒ£: EVREALå¤šæ–¹æ³•é‡å»º** (å†…éƒ¨å®ç°)

### **ç›®æ ‡**: ä»å¤šç§H5æ•°æ® â†’ 8ç§æ–¹æ³•çš„é‡å»ºå›¾åƒ

### **ä½¿ç”¨æ–¹æ³•**:
```bash
# ç¯å¢ƒå‡†å¤‡
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2

# æ–¹æ³•1: å¤„ç†åŸå§‹H5 + æ‰€æœ‰ç®—æ³•å¤„ç†çš„H5
python process_additional_h5_files.py xxx

# æ–¹æ³•2: å•ç‹¬å¤„ç†ç‰¹å®šH5æ–‡ä»¶çš„é‡å»º
python -c "
import sys; sys.path.append('.')
from modules.evreal_integration import *
from pathlib import Path

config = EVREALIntegrationConfig()
config.dataset_name = 'xxx'
config.dataset_dir = Path('datasets/xxx')
integration = EVREALIntegration(config)
result = integration.run_full_pipeline()
print(f'é‡å»ºå®Œæˆ: {result.get(\"successful_methods\", [])}')
"
```

### **è¾“å‡º**:
- `datasets/xxx/reconstruction/evreal_e2vid/` (200å¼ )
- `datasets/xxx/reconstruction/evreal_spade_e2vid/` (200å¼ )
- `datasets/xxx/reconstruction_original/evreal_spade_e2vid/` (200å¼ )
- `datasets/xxx/reconstruction_Unet/evreal_spade_e2vid/` (200å¼ )
- `datasets/xxx/reconstruction_Unetsimple/evreal_spade_e2vid/` (200å¼ )
- ...å…¶ä»–æ–¹æ³•ç›®å½•

---

## **é˜¶æ®µ4ï¸âƒ£: 3DGSæ‰¹é‡è®­ç»ƒ** (å†…éƒ¨å®ç°)

### **ç›®æ ‡**: å¯¹åŸå§‹å›¾åƒ + å„ç§é‡å»ºå›¾åƒè¿›è¡Œ3DGSè®­ç»ƒ

### **ä½¿ç”¨æ–¹æ³•**:
```bash
# ç¯å¢ƒå‡†å¤‡: åˆ‡æ¢åˆ°3DGSç¯å¢ƒ
# (å…·ä½“ç¯å¢ƒåç§°æ ¹æ®å®é™…æƒ…å†µ)

# 1. ç”Ÿæˆè®­ç»ƒé…ç½®
python generate_json_configs.py xxx spade_e2vid

# 2. æ‰¹é‡è®­ç»ƒ (åªè®­ç»ƒï¼Œä¸æ¸²æŸ“)
train_3dgs_batch.bat xxx spade_e2vid
```

### **è¾“å‡º**:
- `gaussian-splatting/output/xxx_original/` (åŸå§‹å›¾åƒè®­ç»ƒç»“æœ)
- `gaussian-splatting/output/xxx_spade_e2vid_original/` (åŸå§‹H5é‡å»ºç»“æœ)
- `gaussian-splatting/output/xxx_spade_e2vid_Unet/` (Unet H5é‡å»ºç»“æœ) 
- `gaussian-splatting/output/xxx_spade_e2vid_Unetsimple/` (Unetsimple H5é‡å»ºç»“æœ)
- æƒé‡å¤‡ä»½: `datasets/xxx/3dgs_results/weights/`

---

## **é˜¶æ®µ5ï¸âƒ£: 3DGSæ¸²æŸ“ä¸è¯„ä¼°** (å†…éƒ¨å®ç°)

### **ç›®æ ‡**: æ¸²æŸ“200å¼ testå›¾åƒ + è®¡ç®—PSNR/SSIM/LPIPSæŒ‡æ ‡

### **ä½¿ç”¨æ–¹æ³•**:
```bash
# æ¸²æŸ“å’Œè¯„ä¼° (è‡ªåŠ¨å‘ç°æ‰€æœ‰è®­ç»ƒå¥½çš„æ¨¡å‹)
python render_and_evaluate.py --dataset xxx --method spade_e2vid --weights-dir "gaussian-splatting/output"
```

### **è¾“å‡º**:
- `datasets/xxx/3dgs_results/final_renders/original/` (200å¼ )
- `datasets/xxx/3dgs_results/final_renders/spade_e2vid_original/` (200å¼ )
- `datasets/xxx/3dgs_results/final_renders/spade_e2vid_Unet/` (200å¼ )
- `datasets/xxx/3dgs_results/final_renders/spade_e2vid_Unetsimple/` (200å¼ )
- `datasets/xxx/3dgs_results/final_metrics/comparison_report.txt`
- `datasets/xxx/3dgs_results/final_metrics/comparison_report.json`

---

## ğŸ¯ **æˆåŠŸæ¡ˆä¾‹å‚è€ƒ** (lego2æ•°æ®é›†)

### **å®Œæ•´æ•°æ®äº§å‡º**:
- **äº‹ä»¶æ•°æ®**: 174ä¸‡ä¸ªçœŸå®äº‹ä»¶ (3ç§H5æ ¼å¼)
- **é‡å»ºå›¾åƒ**: 1600å¼  (8ç§æ–¹æ³• Ã— 200å¼ )  
- **3DGSè®­ç»ƒ**: 4ä¸ªé…ç½®æˆåŠŸè®­ç»ƒ
- **æ¸²æŸ“å›¾åƒ**: 800å¼  (4ä¸ªæ¨¡å‹ Ã— 200å¼ )
- **è¯„ä¼°æŒ‡æ ‡**: å®Œæ•´PSNR/SSIM/LPIPSå¯¹æ¯”æŠ¥å‘Š

### **æŠ€æœ¯å‚æ•°**:
- **DVSæ ¼å¼**: `[timestamp_us, x, y, polarity]`
- **æ—¶é—´é—´éš”**: 1ms â†’ ç­‰æ•ˆ1000fps
- **åˆ†è¾¨ç‡**: 640Ã—480 (WÃ—H)
- **3DGSè®­ç»ƒ**: --evalæ¨¡å¼ï¼Œ10000 iterationsï¼Œç°åº¦å›¾
- **è¯„ä¼°**: åŸºäº200å¼ å®Œæ•´å›¾åƒçš„å‡†ç¡®æŒ‡æ ‡

### **å…³é”®ä¿®å¤**:
- âœ… 200:200å›¾åƒå®Œç¾å¯¹åº”
- âœ… åæ ‡ç³»ç»Ÿå®Œå…¨æ­£ç¡®
- âœ… è°ƒè¯•é™åˆ¶bugå·²ä¿®å¤ (ä»3å¼ â†’200å¼ )
- âœ… åŠ¨æ€iterationæ£€æµ‹
- âœ… åˆ†ç¦»å¼å·¥ä½œæµ (è®­ç»ƒ+æ¸²æŸ“ç‹¬ç«‹)

---

## âš¡ **å¿«é€Ÿä¸Šæ‰‹å‘½ä»¤æ±‡æ€»**

### **æ–°æ•°æ®é›†å®Œæ•´å¤„ç†**:
```bash
# æ­¥éª¤1-3: äº‹ä»¶æ•°æ®åˆ¶ä½œå’Œé‡å»º (Umain2ç¯å¢ƒ)
source ~/miniconda3/etc/profile.d/conda.sh && conda activate Umain2
python merge_datasets.py                           # æ•°æ®é›†åˆå¹¶
python run_full_pipeline.py                        # äº‹ä»¶ä»¿çœŸ+æ ¼å¼è½¬æ¢  
python process_additional_h5_files.py <dataset>    # å¤šH5é‡å»º

# æ­¥éª¤4-5: 3DGSè®­ç»ƒå’Œæ¸²æŸ“ (3DGSç¯å¢ƒ)
python generate_json_configs.py <dataset> spade_e2vid                    # é…ç½®ç”Ÿæˆ
train_3dgs_batch.bat <dataset> spade_e2vid                              # æ‰¹é‡è®­ç»ƒ
python render_and_evaluate.py --dataset <dataset> --method spade_e2vid  # æ¸²æŸ“è¯„ä¼°
```

### **åªåšæ¸²æŸ“è¯„ä¼°** (å·²æœ‰è®­ç»ƒç»“æœ):
```bash
python render_and_evaluate.py --dataset <dataset> --method <method> --weights-dir "gaussian-splatting/output"
```

è¿™ä¸ªå®Œæ•´æµç¨‹å·²åœ¨lego2æ•°æ®é›†ä¸ŠéªŒè¯æˆåŠŸï¼Œå¯ä»¥ä½œä¸ºæ ‡å‡†æ¨¡æ¿ç”¨äºæ–°æ•°æ®é›†å¤„ç†ã€‚